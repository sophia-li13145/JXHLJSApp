<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:zxing="clr-namespace:ZXing.Net.Maui.Controls;assembly=ZXing.Net.MAUI.Controls"
    x:Class="JXHLJSApp.Pages.QrScanPage"
    Title="æ‰«ç ">

    <Grid RowDefinitions="1*,3*,1*">
        <!-- æ‰«ç å–ç  -->
        <zxing:CameraBarcodeReaderView
            x:Name="barcodeView"
            Grid.Row="0"
            BarcodesDetected="BarcodesDetected"
            IsDetecting="False"
            CameraLocation="Rear" />


        <!-- æ˜¾ç¤ºæ‰«ç ç»“æžœ -->
        <Label x:Name="ResultLabel"
               Grid.Row="1"
               Text="è¯·å¯¹å‡†äºŒç»´ç ..."
               FontSize="18"
               HorizontalOptions="Center"
               VerticalOptions="Center" />

        <!-- åº•éƒ¨æŒ‰é’®åŒº -->
        <Grid Grid.Row="2"
              ColumnDefinitions="Auto,Auto,*,Auto"
              Padding="20"
              BackgroundColor="#222">
            <!-- æ–°å¢žï¼šç›¸å†Œè¯†åˆ« -->
            <Button Text="ç›¸å†Œè¯†åˆ«"
                    Grid.Column="0"
            Clicked="PickFromGalleryButton_Clicked" />
            
            <Button Text="ðŸ”„"
                    Grid.Column="1"
                    BackgroundColor="#444"
                    BorderColor="Black"
                    Clicked="SwitchCameraButton_Clicked" />

            <zxing:BarcodeGeneratorView
                x:Name="barcodeGenerator"
                Grid.Column="2"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                HeightRequest="100"
                WidthRequest="100"
                ForegroundColor="DarkBlue"
                Format="QrCode"
                Value="Sample"
                BarcodeMargin="1" />

            <Button Text="ðŸ’¡"
                    Grid.Column="3"
                    BackgroundColor="#444"
                    BorderColor="Black"
                    Clicked="TorchButton_Clicked" />
        </Grid>
    </Grid>
</ContentPage>
